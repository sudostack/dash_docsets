    <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.17.1">
    <title>Plug.ErrorHandler â€“ Plug v1.4.3</title>
    <link rel="stylesheet" href="dist/app-110d9134a6.css" />
    
    
    <script src="dist/sidebar_items-dbdf267600.js"></script>
    
  </head>
  <body data-type="modules">
    <script>try { if(localStorage.getItem('night-mode')) document.body.className += ' night-mode'; } catch (e) { }</script>

    <div class="main">
<button class="sidebar-toggle" style="visibility: hidden">
  <span class="icon-menu" aria-hidden="true"></span>
  <span class="sr-only">Toggle Sidebar</span>
</button>
<section class="sidebar" style="visibility: hidden">

  
  <a href="readme.html" class="sidebar-projectLink">
    <div class="sidebar-projectDetails">
      <h1 class="sidebar-projectName">
        Plug
      </h1>
      <h2 class="sidebar-projectVersion">
        v1.4.3
      </h2>
    </div>
    
  </a>

  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button">
      <span class="icon-search" aria-hidden="true"></span>
    </button>
    <input name="q" type="text" id="search-list" class="search-input" placeholder="search" aria-label="Search" autocomplete="off" />
  </form>

  <ul class="sidebar-listNav">
    <li><a id="extras-list" href="#full-list">Pages</a></li>

    
      <li><a id="modules-list" href="#full-list">Modules</a></li>
    

    
      <li><a id="exceptions-list" href="#full-list">Exceptions</a></li>
    

    
  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content" style="padding-left: 0;">
  <div class="content-outer">
    <div id="content" class="content-inner" style="margin: 0; margin-top: -28px; padding: 0px 14px;">


      <h1>
        <small class="visible-xs">Plug v1.4.3</small>
        Plug.ErrorHandler
        
          <a href="https://github.com/elixir-plug/plug/blob/v1.4.3/lib/plug/error_handler.ex#L1" title="View Source" class="view-source" rel="help">
            <span class="icon-code" aria-hidden="true"></span>
            <span class="sr-only">View Source</span>
          </a>
        
      </h1>

      
        <section id="moduledoc">
          <p>A module to be used in your existing plugs in order to provide
error handling.</p>
<pre><code class="elixir">defmodule AppRouter do
  use Plug.Router
  use Plug.ErrorHandler

  plug :match
  plug :dispatch

  get &quot;/hello&quot; do
    send_resp(conn, 200, &quot;world&quot;)
  end

  def handle_errors(conn, %{kind: _kind, reason: _reason, stack: _stack}) do
    send_resp(conn, conn.status, &quot;Something went wrong&quot;)
  end
end</code></pre>
<p>Once this module is used, a callback named <code class="inline">handle_errors/2</code> should
be defined in your plug. This callback should accept a connection and a map
containing:</p>
<ul>
<li>the exception kind (<code class="inline">:throw</code>, <code class="inline">:error</code> or <code class="inline">:exit</code>),
</li>
<li>the reason (an exception for errors or a term for others)
</li>
<li>the stacktrace
</li>
</ul>
<p>After the callback is invoked, the error is re-raised.</p>
<p>It is advised to do as little work as possible when handling errors
and avoid accessing data like parameters and session, as the parsing
of those is what could have led the error to trigger in the first place.</p>
<p>Also notice that these pages are going to be shown in production. If
you are looking for error handling to help during development, consider
using <a href="Plug.Debugger.html"><code class="inline">Plug.Debugger</code></a>.</p>
<p><strong>Note:</strong> If this module is used with <a href="Plug.Debugger.html"><code class="inline">Plug.Debugger</code></a>, it must be used
after <a href="Plug.Debugger.html"><code class="inline">Plug.Debugger</code></a>.</p>

        </section>
      

      

      

      

      
          <footer class="footer">
        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" rel="help" target="_blank">ExDoc</a> (v0.17.1),
          </span>
          <span class="line">
            designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" title="@dignifiedquire">Friedel Ziegelmayer</a>.
            </span>
        </p>
        <button class="night-mode-toggle"><span class="sr-only">Switch theme</span></button>
      </footer>
    </div>
  </div>
</section>
</div>
  <script src="dist/app-4cfb39be16.js"></script>
  
  </body>
</html>

